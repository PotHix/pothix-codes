# Converts tweets to roam

This code should run on a CSV file generated on top of the twitter export.
The CSV file is generated by the following command (requires GNU tools and
[jq](https://stedolan.github.io/jq/)):

```
cat tweet.js | sed 's/window.YTD.tweet.part0 = //g' | jq -r '.[].tweet | "\(.created_at | strptime("%a %b %d %H:%M:%S +0000 %Y") | mktime),\(.full_text| gsub("[\\n\\t]"; "") | gsub("[,]"; "#-#"))"' | grep -v "RT:" | grep -v "RT @" | grep -Ev "^[0-9]{10},@" | sort > tweets.csv; sed -i '1s/^/timestamp,tweet\n/' tweets.csv
```

It changes any `,` (comma) to a `#-#` symbol just to be sure we're not breaking
the CSV file after generating it. The Rust software will deal with this symbol
afterwards and transform it back to a comma.

You can then run:

```
$ cargo run --quiet </path/of/the/csv/file.csv > /path/of/the/generated/json/file.json
```

I even used `jq` to make the json look better:

```
$ cargo run --quiet </path/of/the/csv/file.csv | jq '.' > /path/of/the/generated/json/file.json
```

I will generate a JSON file that looks like this:

```
[
  {
    "title": "April 5th, 2015",
    "children": [
      {
        "string": "07:20 Woke up earlier again #tweet"
      },
      {
        "string": "07:21 Time to get some work done! #tweet"
      }
    ]
  }
]
```

You can then import it to Roam all at once! I did that for my own account and it
imported 2066 files.
